"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Chunks_1 = require("../Chunks");
var URLTools_1 = require("../URLTools");
var createChunksMatcher_1 = require("../createChunksMatcher");
function redirect(maybeResolvableTo, _a) {
    var _b = (_a === void 0 ? {} : _a).exact, exact = _b === void 0 ? true : _b;
    return createChunksMatcher_1.createChunksMatcher(maybeResolvableTo, undefined, function (to, request) {
        var toHref;
        if (typeof to === 'string') {
            toHref = to[0] === '/' ? to : URLTools_1.joinPaths('/', request.mountpath, to);
        }
        else if (to) {
            toHref = URLTools_1.createURLDescriptor(to).href;
        }
        return toHref ? [Chunks_1.createChunk('redirect', request, { to: toHref })] : [];
    }, exact, true // proccess during crawl
    );
}
exports.redirect = redirect;
//# sourceMappingURL=redirect.js.map